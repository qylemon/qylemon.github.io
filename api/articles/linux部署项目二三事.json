{"title":"linux部署项目及基础环境配置","slug":"linux部署项目二三事","date":"2019-10-29T15:22:31.644Z","updated":"2019-12-18T05:16:43.701Z","comments":true,"path":"api/articles/linux部署项目二三事.json","excerpt":" [Figure] ","covers":["http%3A%2F%2F09imgmini.eastday.com%2Fmobile%2F20190523%2F20190523175202_fbc1aa4f3ec6332b6841d32388619c53_1.jpeg","https://img-blog.csdnimg.cn/20190122221632234.png","https://img-blog.csdn.net/20180320153334793?watermark/2/text/Ly9ibG9nLmNzZG4ubmV0L3UwMTI5Nzk4NjQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70"],"content":"<p><img src=\"https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1572539107105&amp;di=ee5855b3a21e084846f90f7ab58c7452&amp;imgtype=0&amp;src=http%3A%2F%2F09imgmini.eastday.com%2Fmobile%2F20190523%2F20190523175202_fbc1aa4f3ec6332b6841d32388619c53_1.jpeg\" alt><br><a id=\"more\"></a><br>记录一下关于linux服务器的项目环境安装和部署</p>\n<h2 id=\"所选环境\"><a href=\"#所选环境\" class=\"headerlink\" title=\"所选环境\"></a>所选环境</h2><p>CentOS6.8+JDK8+MySQL+Tomcat</p>\n<h2 id=\"安装server端MySQL\"><a href=\"#安装server端MySQL\" class=\"headerlink\" title=\"安装server端MySQL\"></a>安装server端MySQL</h2><p>使用yum命令安装MySQL</p>\n<blockquote>\n<p>yum install -y mysql mysql-server</p>\n</blockquote>\n<p>等待安装完成MySQL部分就基本安装完成了，但是此时的MySQL默认是只有本机(locathost)能够连接的，在终端登陆MySQL修改远程连接的SQL；</p>\n<p><code>mysql&gt;select host,user from mysql.user;</code><br><code>mysql&gt;update user set host=&#39;%&#39; where user=&#39;root&#39; and host=&#39;127.0.0.1&#39;;</code><br>然后刷新MySQL,然后就可以远程连接了<br><code>mysql&gt;flush privileges;</code></p>\n<h2 id=\"安装JDK\"><a href=\"#安装JDK\" class=\"headerlink\" title=\"安装JDK\"></a>安装JDK</h2><p>解压JDK的压缩包<br><code>tar -zxf jdk-xx-xxx...</code><br>vi /etc/profile 配置jdk环境变量</p>\n<blockquote>\n<p>export JAVA_HOME=pwd得到的jdk路径<br>exprot PATH=$PATH:$JAVA_HOME/bin<br>配置好后刷新profile文件配置 -&gt;source /etc/profile<br>配置时注意等号两边不要有空格不然会出现乱七八糟的报错</p>\n</blockquote>\n<p>刷新后输入java-version出现了熟悉的版本号命令行</p>\n<h2 id=\"部署Tomcat\"><a href=\"#部署Tomcat\" class=\"headerlink\" title=\"部署Tomcat\"></a>部署Tomcat</h2><p>同jdk第一步，解压后apache目录中有很多文件 要运行的war包要放入webapps中，默认运行的项目名为ROOT；bin目录中负责apache的启动和停止</p>\n<blockquote>\n<p>启动→./startup.sh    停止→./shutdown.sh</p>\n</blockquote>\n<p>启动后通过tail命令查看日志，如无报错 即可正常访问</p>\n<blockquote>\n<p>tail -f logs/catalina.out 查看tomcat的日志</p>\n</blockquote>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.mysql和tomcat的端口都需要在iptables文件中增加，否则远程连接和访问8080时会出现无法连接<img src=\"https://img-blog.csdnimg.cn/20190122221632234.png\" alt></p>\n<blockquote>\n<p>vi /etc/sysconfig/iptables<br>-A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT<br>-A INPUT -m state –state NEW -m tcp -p tcp –dport 8080 -j ACCEPT<br>刷新配置文件 -&gt; service iptables restart<br>这里需要注意 新增的端口信息一定要在icmp-host-prohibited之前</p>\n</blockquote>\n<p>2.可能存在端口占用</p>\n<blockquote>\n<p>netstat -nltp | grep 端口号 然后kill掉进程号即可</p>\n</blockquote>\n<p><img src=\"https://img-blog.csdn.net/20180320153334793?watermark/2/text/Ly9ibG9nLmNzZG4ubmV0L3UwMTI5Nzk4NjQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\" alt><br>3.上图问题是没有开启mysql服务，可以是设置自启也可以运行以下命令</p>\n<blockquote>\n<p>service mysqld start</p>\n</blockquote>\n<h2 id=\"关于压缩包\"><a href=\"#关于压缩包\" class=\"headerlink\" title=\"关于压缩包\"></a>关于压缩包</h2><p>关于上传相应压缩包，可以使用ftp也可以通过yum源安装工具</p>\n<blockquote>\n<pre><code>yum install -y lrzsz  rz上传 sz下载\n</code></pre></blockquote>\n<h2 id=\"end\"><a href=\"#end\" class=\"headerlink\" title=\"end\"></a>end</h2><p>基础就是这些，其他负载啥的以后填坑</p>\n","more":"<br>记录一下关于linux服务器的项目环境安装和部署</p>\n<h2 id=\"所选环境\"><a href=\"#所选环境\" class=\"headerlink\" title=\"所选环境\"></a>所选环境</h2><p>CentOS6.8+JDK8+MySQL+Tomcat</p>\n<h2 id=\"安装server端MySQL\"><a href=\"#安装server端MySQL\" class=\"headerlink\" title=\"安装server端MySQL\"></a>安装server端MySQL</h2><p>使用yum命令安装MySQL</p>\n<blockquote>\n<p>yum install -y mysql mysql-server</p>\n</blockquote>\n<p>等待安装完成MySQL部分就基本安装完成了，但是此时的MySQL默认是只有本机(locathost)能够连接的，在终端登陆MySQL修改远程连接的SQL；</p>\n<p><code>mysql&gt;select host,user from mysql.user;</code><br><code>mysql&gt;update user set host=&#39;%&#39; where user=&#39;root&#39; and host=&#39;127.0.0.1&#39;;</code><br>然后刷新MySQL,然后就可以远程连接了<br><code>mysql&gt;flush privileges;</code></p>\n<h2 id=\"安装JDK\"><a href=\"#安装JDK\" class=\"headerlink\" title=\"安装JDK\"></a>安装JDK</h2><p>解压JDK的压缩包<br><code>tar -zxf jdk-xx-xxx...</code><br>vi /etc/profile 配置jdk环境变量</p>\n<blockquote>\n<p>export JAVA_HOME=pwd得到的jdk路径<br>exprot PATH=$PATH:$JAVA_HOME/bin<br>配置好后刷新profile文件配置 -&gt;source /etc/profile<br>配置时注意等号两边不要有空格不然会出现乱七八糟的报错</p>\n</blockquote>\n<p>刷新后输入java-version出现了熟悉的版本号命令行</p>\n<h2 id=\"部署Tomcat\"><a href=\"#部署Tomcat\" class=\"headerlink\" title=\"部署Tomcat\"></a>部署Tomcat</h2><p>同jdk第一步，解压后apache目录中有很多文件 要运行的war包要放入webapps中，默认运行的项目名为ROOT；bin目录中负责apache的启动和停止</p>\n<blockquote>\n<p>启动→./startup.sh    停止→./shutdown.sh</p>\n</blockquote>\n<p>启动后通过tail命令查看日志，如无报错 即可正常访问</p>\n<blockquote>\n<p>tail -f logs/catalina.out 查看tomcat的日志</p>\n</blockquote>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><p>1.mysql和tomcat的端口都需要在iptables文件中增加，否则远程连接和访问8080时会出现无法连接<img src=\"https://img-blog.csdnimg.cn/20190122221632234.png\" alt></p>\n<blockquote>\n<p>vi /etc/sysconfig/iptables<br>-A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT<br>-A INPUT -m state –state NEW -m tcp -p tcp –dport 8080 -j ACCEPT<br>刷新配置文件 -&gt; service iptables restart<br>这里需要注意 新增的端口信息一定要在icmp-host-prohibited之前</p>\n</blockquote>\n<p>2.可能存在端口占用</p>\n<blockquote>\n<p>netstat -nltp | grep 端口号 然后kill掉进程号即可</p>\n</blockquote>\n<p><img src=\"https://img-blog.csdn.net/20180320153334793?watermark/2/text/Ly9ibG9nLmNzZG4ubmV0L3UwMTI5Nzk4NjQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\" alt><br>3.上图问题是没有开启mysql服务，可以是设置自启也可以运行以下命令</p>\n<blockquote>\n<p>service mysqld start</p>\n</blockquote>\n<h2 id=\"关于压缩包\"><a href=\"#关于压缩包\" class=\"headerlink\" title=\"关于压缩包\"></a>关于压缩包</h2><p>关于上传相应压缩包，可以使用ftp也可以通过yum源安装工具</p>\n<blockquote>\n<pre><code>yum install -y lrzsz  rz上传 sz下载\n</code></pre></blockquote>\n<h2 id=\"end\"><a href=\"#end\" class=\"headerlink\" title=\"end\"></a>end</h2><p>基础就是这些，其他负载啥的以后填坑</p>","categories":[{"name":"Linux","path":"api/categories/Linux.json"}],"tags":[{"name":"环境部署","path":"api/tags/环境部署.json"},{"name":"Linux操作","path":"api/tags/Linux操作.json"}]}