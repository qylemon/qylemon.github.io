{"title":"小程序的常用组件、布局记载(一)","slug":"小程序的常用组件and布局记载(一)","date":"2020-01-09T14:45:59.742Z","updated":"2020-02-09T15:32:08.918Z","comments":true,"path":"api/articles/小程序的常用组件and布局记载(一).json","excerpt":"简述本贴将持续记录碰到的常见布局、组件等","covers":null,"content":"<h2 id=\"简述\"><a href=\"#简述\" class=\"headerlink\" title=\"简述\"></a>简述</h2><p>本贴将持续记录碰到的常见布局、组件等<a id=\"more\"></a></p>\n<h2 id=\"返顶方式\"><a href=\"#返顶方式\" class=\"headerlink\" title=\"返顶方式\"></a>返顶方式</h2><p>在页面内容过长时 我们通常会通过设置按钮进行锚点返顶操作，小程序中也有同样方式进行该操作</p>\n<h3 id=\"方式一\"><a href=\"#方式一\" class=\"headerlink\" title=\"方式一\"></a>方式一</h3><p>使用view形式的回到顶部<br>wxml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;image src=&apos;../../img/button-top.png&apos; class=&apos;goTop&apos; hidden=&apos;&#123;&#123;!floorstatus&#125;&#125;&apos; bindtap=&quot;goTop&quot;&gt;&lt;/image&gt;</span><br></pre></td></tr></table></figure></p>\n<p>wxss<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 返回顶部 */</span><br><span class=\"line\">.goTop&#123;</span><br><span class=\"line\">  height: 80rpx;</span><br><span class=\"line\">  width: 80rpx;</span><br><span class=\"line\">  position: fixed;</span><br><span class=\"line\">  bottom: 50rpx;</span><br><span class=\"line\">  background: rgba(0,0,0,.3);</span><br><span class=\"line\">  right: 30rpx;</span><br><span class=\"line\">  border-radius: 50%;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 获取滚动条当前位置</span><br><span class=\"line\">onPageScroll: function (e) &#123;</span><br><span class=\"line\">  console.log(e)</span><br><span class=\"line\">  if (e.scrollTop &gt; 100) &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: true</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: false</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">//回到顶部</span><br><span class=\"line\">goTop: function (e) &#123;  // 一键回到顶部</span><br><span class=\"line\">  if (wx.pageScrollTo) &#123;</span><br><span class=\"line\">    wx.pageScrollTo(&#123;</span><br><span class=\"line\">      scrollTop: 0</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    wx.showModal(&#123;</span><br><span class=\"line\">      title: &apos;提示&apos;,</span><br><span class=\"line\">      content: &apos;当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。&apos;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"方式二\"><a href=\"#方式二\" class=\"headerlink\" title=\"方式二\"></a>方式二</h3><p>使用scroll-view形式的回到顶部<br>wxml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;scroll-view scroll-y scroll-top=&apos;&#123;&#123;topNum&#125;&#125;&apos; bindscroll=&quot;scrolltoupper&quot;&gt;</span><br><span class=\"line\">&lt;image src=&apos;../../img/button-top.png&apos; class=&apos;goTop&apos; hidden=&apos;&#123;&#123;!floorstatus&#125;&#125;&apos; bindtap=&quot;goTop&quot;&gt;&lt;/image&gt;</span><br></pre></td></tr></table></figure></p>\n<p>wxss(同上)<br>js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 获取滚动条当前位置</span><br><span class=\"line\">scrolltoupper:function(e)&#123;</span><br><span class=\"line\">  console.log(e)</span><br><span class=\"line\">  if (e.detail.scrollTop &gt; 100) &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: true</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: false</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">//回到顶部</span><br><span class=\"line\">goTop: function (e) &#123;  // 一键回到顶部</span><br><span class=\"line\">  this.setData(&#123;</span><br><span class=\"line\">    topNum: this.data.topNum = 0</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"居中方式\"><a href=\"#居中方式\" class=\"headerlink\" title=\"居中方式\"></a>居中方式</h2><h3 id=\"方式一-flex流布局\"><a href=\"#方式一-flex流布局\" class=\"headerlink\" title=\"方式一(flex流布局)\"></a>方式一(flex流布局)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">justify-content：center；</span><br><span class=\"line\">align-items：center；</span><br></pre></td></tr></table></figure>\n<h3 id=\"方式二-一般布局\"><a href=\"#方式二-一般布局\" class=\"headerlink\" title=\"方式二(一般布局)\"></a>方式二(一般布局)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">text-align:center;</span><br><span class=\"line\">align-items:center;</span><br></pre></td></tr></table></figure>\n<h2 id=\"end\"><a href=\"#end\" class=\"headerlink\" title=\"end\"></a>end</h2>","more":"</p>\n<h2 id=\"返顶方式\"><a href=\"#返顶方式\" class=\"headerlink\" title=\"返顶方式\"></a>返顶方式</h2><p>在页面内容过长时 我们通常会通过设置按钮进行锚点返顶操作，小程序中也有同样方式进行该操作</p>\n<h3 id=\"方式一\"><a href=\"#方式一\" class=\"headerlink\" title=\"方式一\"></a>方式一</h3><p>使用view形式的回到顶部<br>wxml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;image src=&apos;../../img/button-top.png&apos; class=&apos;goTop&apos; hidden=&apos;&#123;&#123;!floorstatus&#125;&#125;&apos; bindtap=&quot;goTop&quot;&gt;&lt;/image&gt;</span><br></pre></td></tr></table></figure></p>\n<p>wxss<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/* 返回顶部 */</span><br><span class=\"line\">.goTop&#123;</span><br><span class=\"line\">  height: 80rpx;</span><br><span class=\"line\">  width: 80rpx;</span><br><span class=\"line\">  position: fixed;</span><br><span class=\"line\">  bottom: 50rpx;</span><br><span class=\"line\">  background: rgba(0,0,0,.3);</span><br><span class=\"line\">  right: 30rpx;</span><br><span class=\"line\">  border-radius: 50%;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 获取滚动条当前位置</span><br><span class=\"line\">onPageScroll: function (e) &#123;</span><br><span class=\"line\">  console.log(e)</span><br><span class=\"line\">  if (e.scrollTop &gt; 100) &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: true</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: false</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">//回到顶部</span><br><span class=\"line\">goTop: function (e) &#123;  // 一键回到顶部</span><br><span class=\"line\">  if (wx.pageScrollTo) &#123;</span><br><span class=\"line\">    wx.pageScrollTo(&#123;</span><br><span class=\"line\">      scrollTop: 0</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    wx.showModal(&#123;</span><br><span class=\"line\">      title: &apos;提示&apos;,</span><br><span class=\"line\">      content: &apos;当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。&apos;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"方式二\"><a href=\"#方式二\" class=\"headerlink\" title=\"方式二\"></a>方式二</h3><p>使用scroll-view形式的回到顶部<br>wxml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;scroll-view scroll-y scroll-top=&apos;&#123;&#123;topNum&#125;&#125;&apos; bindscroll=&quot;scrolltoupper&quot;&gt;</span><br><span class=\"line\">&lt;image src=&apos;../../img/button-top.png&apos; class=&apos;goTop&apos; hidden=&apos;&#123;&#123;!floorstatus&#125;&#125;&apos; bindtap=&quot;goTop&quot;&gt;&lt;/image&gt;</span><br></pre></td></tr></table></figure></p>\n<p>wxss(同上)<br>js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 获取滚动条当前位置</span><br><span class=\"line\">scrolltoupper:function(e)&#123;</span><br><span class=\"line\">  console.log(e)</span><br><span class=\"line\">  if (e.detail.scrollTop &gt; 100) &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: true</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      floorstatus: false</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">//回到顶部</span><br><span class=\"line\">goTop: function (e) &#123;  // 一键回到顶部</span><br><span class=\"line\">  this.setData(&#123;</span><br><span class=\"line\">    topNum: this.data.topNum = 0</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"居中方式\"><a href=\"#居中方式\" class=\"headerlink\" title=\"居中方式\"></a>居中方式</h2><h3 id=\"方式一-flex流布局\"><a href=\"#方式一-flex流布局\" class=\"headerlink\" title=\"方式一(flex流布局)\"></a>方式一(flex流布局)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">justify-content：center；</span><br><span class=\"line\">align-items：center；</span><br></pre></td></tr></table></figure>\n<h3 id=\"方式二-一般布局\"><a href=\"#方式二-一般布局\" class=\"headerlink\" title=\"方式二(一般布局)\"></a>方式二(一般布局)</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">text-align:center;</span><br><span class=\"line\">align-items:center;</span><br></pre></td></tr></table></figure>\n<h2 id=\"end\"><a href=\"#end\" class=\"headerlink\" title=\"end\"></a>end</h2>","categories":[{"name":"小程序","path":"api/categories/小程序.json"}],"tags":[{"name":"微信小程序","path":"api/tags/微信小程序.json"}]}