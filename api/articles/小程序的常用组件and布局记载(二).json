{"title":"小程序的常用组件、布局记载(二)","slug":"小程序的常用组件and布局记载(二)","date":"2020-02-07T07:52:01.333Z","updated":"2020-02-09T15:31:32.065Z","comments":true,"path":"api/articles/小程序的常用组件and布局记载(二).json","excerpt":"简述本贴将持续记录碰到的常见布局、组件等","covers":null,"content":"<h2 id=\"简述\"><a href=\"#简述\" class=\"headerlink\" title=\"简述\"></a>简述</h2><p>本贴将持续记录碰到的常见布局、组件等<a id=\"more\"></a></p>\n<h2 id=\"小程序页面置顶置底\"><a href=\"#小程序页面置顶置底\" class=\"headerlink\" title=\"小程序页面置顶置底\"></a>小程序页面置顶置底</h2><p>置顶或置底其本质是一样的 都可以通过绝对定位来实现 代码如下</p>\n<h3 id=\"置顶\"><a href=\"#置顶\" class=\"headerlink\" title=\"置顶\"></a>置顶</h3><pre><code>&lt;view class=&quot;page_head&quot; style=&quot;position:fixed; top:0;width: 750rpx;&quot;&gt;&lt;/view&gt;\n</code></pre><h3 id=\"置底\"><a href=\"#置底\" class=\"headerlink\" title=\"置底\"></a>置底</h3><pre><code>&lt;view class=&quot;page_foot&quot; style=&quot;position:fixed; bottom:0;width: 750rpx;&quot;&gt;&lt;/view&gt;\n</code></pre><h2 id=\"小程序自定义弹框\"><a href=\"#小程序自定义弹框\" class=\"headerlink\" title=\"小程序自定义弹框\"></a>小程序自定义弹框</h2><p>自定义弹框 小程序文档中有个wx.shiwModal能够实现，但并不能满足需求，类似于选择框；自定义实现弹框</p>\n<h3 id=\"实现如下\"><a href=\"#实现如下\" class=\"headerlink\" title=\"实现如下\"></a>实现如下</h3><p>wxml:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view class=&quot;mask&quot; catchtouchmove=&quot;preventTouchMove&quot; wx:if=&quot;&#123;&#123;showModal&#125;&#125;&quot;&gt;&lt;/view&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;view class=&quot;modalDlg&quot; wx:if=&quot;&#123;&#123;showModal&#125;&#125;&quot;&gt;</span><br><span class=\"line\">    &lt;image src=&quot;/figures/logo-smile.png&quot;/&gt;</span><br><span class=\"line\">    &lt;text&gt;欢迎来到模态对话框~&lt;/text&gt;</span><br><span class=\"line\">    &lt;button bindtap=&quot;go&quot;&gt;点我可以关掉对话框&lt;/button&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;button bindtap=&quot;submit&quot;&gt;点我弹窗&lt;/button&gt;</span><br></pre></td></tr></table></figure></p>\n<p>wxss:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.mask&#123;</span><br><span class=\"line\">    width: 100%;\t//蒙板占满屏幕</span><br><span class=\"line\">    height: 100%;\t//蒙板占满屏幕</span><br><span class=\"line\">    position: fixed;</span><br><span class=\"line\">    top: 0;</span><br><span class=\"line\">    left: 0;</span><br><span class=\"line\">    background: #000;</span><br><span class=\"line\">    z-index: 9000;</span><br><span class=\"line\">    opacity: 0.7;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">.modalDlg&#123;</span><br><span class=\"line\">    width: 580rpx;</span><br><span class=\"line\">    height: 620rpx;</span><br><span class=\"line\">    position: fixed;</span><br><span class=\"line\">    top: 50%;</span><br><span class=\"line\">    left: 0;</span><br><span class=\"line\">    z-index: 9999;\t//此处悬浮要大于蒙层</span><br><span class=\"line\">    margin: -370rpx 85rpx;</span><br><span class=\"line\">    background-color: #fff;</span><br><span class=\"line\">    border-radius: 36rpx;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    flex-direction: column;</span><br><span class=\"line\">    align-items: center;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>js:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Page(&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">        showModal: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\">    submit: function() &#123;</span><br><span class=\"line\">        this.setData(&#123;</span><br><span class=\"line\">        showModal: true</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\">\t//空函数，使用catch事件 阻止touchmove这样一个冒泡事件继续向下传递</span><br><span class=\"line\">    preventTouchMove: function() &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">    go: function() &#123; </span><br><span class=\"line\">        this.setData(&#123;</span><br><span class=\"line\">        showModal: false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"end\"><a href=\"#end\" class=\"headerlink\" title=\"end\"></a>end</h2>","more":"</p>\n<h2 id=\"小程序页面置顶置底\"><a href=\"#小程序页面置顶置底\" class=\"headerlink\" title=\"小程序页面置顶置底\"></a>小程序页面置顶置底</h2><p>置顶或置底其本质是一样的 都可以通过绝对定位来实现 代码如下</p>\n<h3 id=\"置顶\"><a href=\"#置顶\" class=\"headerlink\" title=\"置顶\"></a>置顶</h3><pre><code>&lt;view class=&quot;page_head&quot; style=&quot;position:fixed; top:0;width: 750rpx;&quot;&gt;&lt;/view&gt;\n</code></pre><h3 id=\"置底\"><a href=\"#置底\" class=\"headerlink\" title=\"置底\"></a>置底</h3><pre><code>&lt;view class=&quot;page_foot&quot; style=&quot;position:fixed; bottom:0;width: 750rpx;&quot;&gt;&lt;/view&gt;\n</code></pre><h2 id=\"小程序自定义弹框\"><a href=\"#小程序自定义弹框\" class=\"headerlink\" title=\"小程序自定义弹框\"></a>小程序自定义弹框</h2><p>自定义弹框 小程序文档中有个wx.shiwModal能够实现，但并不能满足需求，类似于选择框；自定义实现弹框</p>\n<h3 id=\"实现如下\"><a href=\"#实现如下\" class=\"headerlink\" title=\"实现如下\"></a>实现如下</h3><p>wxml:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view class=&quot;mask&quot; catchtouchmove=&quot;preventTouchMove&quot; wx:if=&quot;&#123;&#123;showModal&#125;&#125;&quot;&gt;&lt;/view&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;view class=&quot;modalDlg&quot; wx:if=&quot;&#123;&#123;showModal&#125;&#125;&quot;&gt;</span><br><span class=\"line\">    &lt;image src=&quot;/figures/logo-smile.png&quot;/&gt;</span><br><span class=\"line\">    &lt;text&gt;欢迎来到模态对话框~&lt;/text&gt;</span><br><span class=\"line\">    &lt;button bindtap=&quot;go&quot;&gt;点我可以关掉对话框&lt;/button&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\">&lt;button bindtap=&quot;submit&quot;&gt;点我弹窗&lt;/button&gt;</span><br></pre></td></tr></table></figure></p>\n<p>wxss:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.mask&#123;</span><br><span class=\"line\">    width: 100%;\t//蒙板占满屏幕</span><br><span class=\"line\">    height: 100%;\t//蒙板占满屏幕</span><br><span class=\"line\">    position: fixed;</span><br><span class=\"line\">    top: 0;</span><br><span class=\"line\">    left: 0;</span><br><span class=\"line\">    background: #000;</span><br><span class=\"line\">    z-index: 9000;</span><br><span class=\"line\">    opacity: 0.7;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">.modalDlg&#123;</span><br><span class=\"line\">    width: 580rpx;</span><br><span class=\"line\">    height: 620rpx;</span><br><span class=\"line\">    position: fixed;</span><br><span class=\"line\">    top: 50%;</span><br><span class=\"line\">    left: 0;</span><br><span class=\"line\">    z-index: 9999;\t//此处悬浮要大于蒙层</span><br><span class=\"line\">    margin: -370rpx 85rpx;</span><br><span class=\"line\">    background-color: #fff;</span><br><span class=\"line\">    border-radius: 36rpx;</span><br><span class=\"line\">    display: flex;</span><br><span class=\"line\">    flex-direction: column;</span><br><span class=\"line\">    align-items: center;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>js:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Page(&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">        showModal: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\">    submit: function() &#123;</span><br><span class=\"line\">        this.setData(&#123;</span><br><span class=\"line\">        showModal: true</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\">\t//空函数，使用catch事件 阻止touchmove这样一个冒泡事件继续向下传递</span><br><span class=\"line\">    preventTouchMove: function() &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">    go: function() &#123; </span><br><span class=\"line\">        this.setData(&#123;</span><br><span class=\"line\">        showModal: false</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"end\"><a href=\"#end\" class=\"headerlink\" title=\"end\"></a>end</h2>","categories":[{"name":"小程序","path":"api/categories/小程序.json"}],"tags":[{"name":"微信小程序","path":"api/tags/微信小程序.json"}]}